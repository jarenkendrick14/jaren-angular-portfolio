/* ══════════ GOOGLE FONTS ══════════ */
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=Plus+Jakarta+Sans:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap');

/* ══════════ DESIGN TOKENS ══════════ */
:root {
  --bg: #09090f;
  --sb: #0d0d16;
  --surf: #111120;
  --bord: #2a2a40;
  --acc: #8b5cf6;
  --acc2: #6d28d9;
  --white: #ffffff;
  --text: #e0def0;
  --muted: #a4a1c6;
  --sub: #c2c0dc;
  --sbbrd: #1a1a2e;
}

[data-theme="light"] {
  --bg: #f4f2f9;
  --sb: #ebe8f5;
  --surf: #e0ddf0;
  --bord: #c8c3e0;
  --acc: #7c3aed;
  --acc2: #6d28d9;
  --white: #1a1826;
  --text: #2d2b3b;
  --muted: #5c597a;
  --sub: #44425e;
  --sbbrd: #d0cceb;
}

/* ══════════ RESET ══════════ */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: 'Plus Jakarta Sans', sans-serif;
  background: var(--bg);
  color: var(--text);
  overflow: hidden;
  height: 100vh;
  width: 100%;           /* FIX: was 100vw — avoids horizontal-scroll jitter on some browsers */
  transition: background-color .35s ease, color .35s ease;
  cursor: none;
}

/* FIX: Ensure Angular's custom element is a proper block-level container.
   Without this, <app-root> defaults to display:inline in some browsers,
   which causes height/overflow constraints to behave unexpectedly on mobile. */
app-root {
  display: block;
  width: 100%;
}

a { text-decoration: none; color: inherit; }
button { cursor: pointer; border: none; background: none; font-family: inherit; }

*, *::before, *::after {
  transition: background-color .35s ease, border-color .35s ease, color .35s ease;
}

a:focus-visible, button:focus-visible, input:focus-visible, textarea:focus-visible {
  outline: 2px solid var(--acc);
  outline-offset: 2px;
}

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-thumb { background: var(--bord); border-radius: 4px; }

/* ══════════ MOBILE — restore normal document flow ══════════
   On ≤960 px the full-page slider is replaced by a normal
   scrolling document. body must be un-clipped for this to work.
═══════════════════════════════════════════════════════════════ */
@media (max-width: 960px) {
  body {
    overflow-x: hidden;   /* prevent any accidental horizontal bleed  */
    overflow-y: auto;     /* re-enable vertical scrolling              */
    height: auto;         /* remove the 100vh constraint               */
    cursor: auto;
  }

  button, a { cursor: pointer !important; }
}

.decrypting { color: var(--acc) !important; }

/* ══════════ GLOBAL ANIMATIONS ══════════ */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(72px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes fadeLeft {
  from { opacity: 0; transform: translateX(-65px); }
  to   { opacity: 1; transform: translateX(0); }
}
@keyframes fadeRight {
  from { opacity: 0; transform: translateX(65px); }
  to   { opacity: 1; transform: translateX(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(.82); }
  to   { opacity: 1; transform: scale(1); }
}

/* ══════════ BASE STATE (hidden) ══════════ */
.au, .al, .ar, .as {
  opacity: 0;
  transition: opacity 0.1s ease 0.6s;
}

/* ══════════ ACTIVE STATE ══════════ */
.active .au, .active-page .au { opacity: 1; transition: none; animation: fadeUp  .6s cubic-bezier(.22,1,.36,1) both; }
.active .al, .active-page .al { opacity: 1; transition: none; animation: fadeLeft .6s cubic-bezier(.22,1,.36,1) both; }
.active .ar, .active-page .ar { opacity: 1; transition: none; animation: fadeRight .6s cubic-bezier(.22,1,.36,1) both; }
.active .as, .active-page .as { opacity: 1; transition: none; animation: scaleIn .55s cubic-bezier(.22,1,.36,1) both; }

/* Stagger Delays */
.active .d0, .active-page .d0 { animation-delay: .04s !important; }
.active .d1, .active-page .d1 { animation-delay: .12s !important; }
.active .d2, .active-page .d2 { animation-delay: .22s !important; }
.active .d3, .active-page .d3 { animation-delay: .32s !important; }
.active .d4, .active-page .d4 { animation-delay: .42s !important; }
.active .d5, .active-page .d5 { animation-delay: .52s !important; }

/* ══════════ SEAMLESS SLIDE-OUT ══════════ */
.page-section.prev .au,
.page-section.prev .al,
.page-section.prev .ar,
.page-section.prev .as,
.page-section.next .au,
.page-section.next .al,
.page-section.next .ar,
.page-section.next .as {
  opacity: 1 !important;
  animation: none !important;
  transition: none !important;
}