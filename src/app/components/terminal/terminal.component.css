/*
  Terminal is intentionally theme-agnostic — it always uses the dark-mode
  lavender (#a78bfa) regardless of whether the page is in light or dark mode.
*/

.terminal {
  position: fixed;
  bottom: 0;
  left: 200px;
  right: 0;
  height: 0;
  background: #06060d;
  border-top: 2px solid #a78bfa;
  z-index: 9500;
  display: flex;
  flex-direction: column;
  transition: height .45s cubic-bezier(.76,0,.24,1);
  font-family: 'JetBrains Mono', monospace;
  overflow: hidden;
}

.terminal.open { height: 55vh; }

.term-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .65rem 1.5rem;
  border-bottom: 1px solid rgba(167, 139, 250, .18);
  flex-shrink: 0;
  background: #080810;
}

.term-wm-dots { display: flex; gap: .45rem; align-items: center; }
.term-wm-dots span { width: 11px; height: 11px; border-radius: 50%; }

.term-title {
  font-size: .72rem;
  letter-spacing: .1em;
  color: #6e6c8a;
}

.term-bar-close {
  font-size: .9rem;
  color: #6e6c8a;
  cursor: pointer;
  padding: .2rem .5rem;
  border-radius: 3px;
  background: none;
  border: none;
  transition: color .2s, background .2s;
}
.term-bar-close:hover {
  color: #a78bfa;
  background: rgba(167, 139, 250, .08);
}

.term-output {
  flex: 1;
  overflow-y: auto;
  padding: 1rem 1.5rem;
  font-size: .82rem;
  line-height: 1.85;
  /* ✦ Near-white so output is actually legible against the dark bg */
  color: #e2e0f4;
}
.term-output::-webkit-scrollbar { width: 4px; }
.term-output::-webkit-scrollbar-thumb { background: #2a2a40; border-radius: 4px; }

:host ::ng-deep .tl-cmd  { color: #a78bfa; }
:host ::ng-deep .tl-ok   { color: #34d399; }
:host ::ng-deep .tl-err  { color: #f87171; }
:host ::ng-deep .tl-dim  { color: #8c8aaa; }
:host ::ng-deep .tl-head { color: #ffffff; font-weight: 600; }
:host ::ng-deep .tl-acc  { color: #a78bfa; }
:host ::ng-deep .tl-warn { color: #fbbf24; }
:host ::ng-deep .tl-val  { color: #e2e0f4; }

.term-prompt-row {
  display: flex;
  align-items: center;
  gap: .75rem;
  padding: .7rem 1.5rem;
  border-top: 1px solid rgba(167, 139, 250, .12);
  flex-shrink: 0;
  background: #06060d;
}

.term-ps {
  color: #a78bfa;
  font-size: .82rem;
  white-space: nowrap;
}

.term-input {
  flex: 1;
  background: none;
  border: none;
  /* ✦ FIXED: was #e0def0 (fine) — keeping same */
  color: #e0def0;
  font-family: 'JetBrains Mono', monospace;
  font-size: .82rem;
  outline: none;
  caret-color: #a78bfa;
  padding: 0;
}

@media (max-width: 960px) {
  .terminal { left: 0; }
}