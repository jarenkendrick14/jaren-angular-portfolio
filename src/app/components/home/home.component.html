<section class="page-home" [class.active-page]="active">
  <canvas id="bg-canvas" aria-hidden="true"></canvas>

  <div class="pin h-top">
    <div class="h-top-grid">
      <div class="h-text">
        <h1 class="hname au d1" [appDecrypt]="'Hello, I\'m'" [active]="active" [delay]="400">Hello, I'm</h1>
        <h1 class="hname accent-name au d1" [appDecrypt]="'Jaren Kendrick.'" [active]="active" [delay]="600">Jaren Kendrick.</h1>
        <span class="hrole au d2">Full Stack Web Developer</span>
        <p class="hdesc au d3">
          I'm a 20 year old college student that builds end-to-end web applications, specializing in <strong>Angular</strong> for the frontend
          and robust, scalable architectures on the backend with <strong>Node.js and Express</strong>.
          I focus on writing clean code and shipping products that solve real problems.
        </p>
        <div class="h-meta au d4">
          <div class="hloc">
            <svg style="width:16px;height:16px;fill:currentColor;" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
            Pampanga, Philippines
          </div>
        </div>
        <div class="hbtns au d5">
          <button class="btn btn-fill" (click)="projectOpened.emit(-1)">View My Projects</button>
          <a href="assets/Jaren_Kendrick_Resume.pdf" class="btn btn-ghost" download="Jaren_Kendrick_Resume.pdf">Download Resume</a>
        </div>
      </div>
      
      <!-- PROFILE PHOTO — LCP element: fetchpriority=high, no lazy load -->
      <div class="h-photo au d3">
        <div class="h-photo-placeholder">
          <!-- fetchpriority="high" tells browser to load this before other images -->
          <picture>
            <source srcset="assets/images/profile.webp" type="image/webp">
            <img src="assets/images/profile.png" alt="Jaren Kendrick"
                 fetchpriority="high"
                 width="610" height="610"
                 style="width:100%;height:100%;object-fit:cover;border-radius:50%;position:absolute;inset:0;"
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='block'" />
          </picture>
          <!-- Fallback Icon -->
          <svg style="display:none;" width="60" height="60" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
        </div>
      </div>
    </div>

    <!-- FEATURED PROJECTS — lazy-load thumbnails, they're below the fold -->
    <div class="feat-section au d5">
      <p class="feat-label">Featured Projects</p>
      <div class="feat-grid">
        @for (item of featuredProjects; track item.index) {
          <div class="feat-card" (click)="projectOpened.emit(item.index)"
               (mouseenter)="previewHover.emit(item.index)"
               (mouseleave)="previewHover.emit(null)"
               role="button" tabindex="0">
            
            <div class="feat-thumb">
              <picture>
                <source [attr.srcset]="item.project.imgs[1].replace(/\.(png|jpg)$/, '.webp')" type="image/webp">
                <img [src]="item.project.imgs[1]" [alt]="item.project.name"
                     loading="lazy"
                     width="630" height="370"
                     style="width:100%;height:100%;object-fit:cover;"
                     onerror="this.style.display='none'" />
              </picture>
            </div>

            <div class="feat-body">
              <div class="feat-name">{{ item.project.name }}</div>
              <div class="feat-desc">{{ item.project.desc.substring(0, 80) }}...</div>
              <div class="feat-tags">
                @for (tag of item.project.tags.slice(0,3); track tag) {
                  <span class="feat-tag">{{ tag }}</span>
                }
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</section>