<section class="page-home">
  <canvas id="bg-canvas" aria-hidden="true"></canvas>

  <div class="pin h-top">
    <div class="h-top-grid">
      <div class="h-text">
        <!-- Pass active state to trigger glitch -->
        <h1 class="hname" [appDecrypt]="'Hello, I\'m'" [active]="active" [delay]="400">Hello, I'm</h1>
        <h1 class="hname accent-name" [appDecrypt]="'Jaren Kendrick.'" [active]="active" [delay]="600">Jaren Kendrick.</h1>
        <span class="hrole">Full Stack Web Developer</span>
        <p class="hdesc">
          I build end-to-end web applications, specializing in <strong>Angular</strong> for the frontend
          and robust, scalable architectures on the backend with <strong>Node.js and C#</strong>.
          I focus on writing clean code and shipping products that solve real problems.
        </p>
        <div class="h-meta">
          <div class="hloc">
            <svg style="width:16px;height:16px;fill:currentColor;" viewBox="0 0 24 24">
              <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
            </svg>
            Pampanga, Philippines
          </div>
        </div>
        <div class="hbtns">
          <button class="btn btn-fill" (click)="projectOpened.emit(-1)">View My Projects</button>
          <a href="Jaren_Kendrick_Resume.pdf" target="_blank" class="btn btn-ghost" download>Download Resume</a>
        </div>
      </div>
      <div class="h-photo">
        <div class="h-photo-placeholder">
          <svg width="60" height="60" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
        </div>
      </div>
    </div>

    <div class="feat-section">
      <p class="feat-label">Featured Projects</p>
      <div class="feat-grid">
        @for (item of featuredProjects; track item.index) {
          <div class="feat-card" (click)="projectOpened.emit(item.index)" 
               (mouseenter)="previewHover.emit(item.index)"
               (mouseleave)="previewHover.emit(null)"
               role="button" tabindex="0" [attr.aria-label]="item.project.name + ' project'">
            <div class="feat-thumb" [style.background]="item.project.imgs[0]"></div>
            <div class="feat-body">
              <div class="feat-name">{{ item.project.name }}</div>
              <div class="feat-desc">{{ item.project.desc.substring(0, 80) }}...</div>
              <div class="feat-tags">
                @for (tag of item.project.tags.slice(0,3); track tag) {
                  <span class="feat-tag">{{ tag }}</span>
                }
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</section>